<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador PrimaPay</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        body { margin: 0; background-color: #0A0510; font-family: 'Segoe UI', sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        
        /* Efeito de clique e hover para os botões */
        .btn-interativo {
            transition: all 0.2s ease;
        }
        .btn-interativo:hover {
            filter: brightness(1.1);
            transform: translateY(-1px);
        }
        .btn-interativo:active {
            transform: translateY(1px);
            filter: brightness(0.9);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        function CalculadoraPrimaPay() {
            const [valor, setValor] = useState("");
            const [tipoGarantia, setTipoGarantia] = useState("com");
            const [meses, setMeses] = useState("");
            const [prestacao, setPrestacao] = useState(null);

            const ROXO = "#883CEA";
            const ROSA = "#CE17CF";
            const LARANJA = "#F58634";
            const WHATSAPP_VERDE = "#25D366";

            const TAXAS = {
                com: 1.49,
                sem: 4.99
            };

            const formatarMoeda = (v) => {
                v = v.replace(/\D/g, "");
                v = (v / 100).toFixed(2) + "";
                v = v.replace(".", ",");
                v = v.replace(/(\d)(\d{3})(\d{3}),/g, "$1.$2.$3,");
                v = v.replace(/(\d)(\d{3}),/g, "$1.$2,");
                return v !== "0,00" ? v : "";
            };

            const calcular = () => {
                const pv = parseFloat(valor.replace(/\./g, "").replace(",", "."));
                const i = TAXAS[tipoGarantia] / 100;
                const n = parseInt(meses);
                if (!pv || !i || !n) return;
                const pmt = pv * ( (i * Math.pow(1 + i, n)) / (Math.pow(1 + i, n) - 1) );
                setPrestacao(pmt.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' }));
            };

            const abrirWhats = () => window.open("https://wa.me/5531986933166", "_blank");

            const estilos = {
                card: { background: "#160F24", width: "360px", padding: "30px", borderRadius: "24px", boxShadow: "0 20px 50px rgba(0,0,0,0.7)", textAlign: "center", border: `1px solid ${ROXO}33` },
                logo: { maxHeight: "60px", marginBottom: "20px" },
                label: { display: "block", textAlign: "left", color: LARANJA, fontSize: "11px", fontWeight: "bold", marginTop: "15px", marginBottom: "8px", textTransform: "uppercase" },
                input: { width: "100%", padding: "14px", borderRadius: "12px", border: `1px solid ${ROXO}55`, background: "#0A0510", color: "white", fontSize: "16px", boxSizing: "border-box", outline: "none" },
                selecaoContainer: { display: "flex", gap: "10px", marginTop: "5px" },
                opcao: (ativo) => ({
                    flex: 1, padding: "12px", borderRadius: "10px", cursor: "pointer", fontSize: "13px", fontWeight: "bold",
                    border: `1px solid ${ativo ? ROSA : ROXO + "44"}`,
                    background: ativo ? `linear-gradient(45deg, ${ROXO}, ${ROSA})` : "transparent",
                    color: "white", transition: "0.3s"
                }),
                btnCalcular: { width: "100%", padding: "16px", marginTop: "25px", borderRadius: "12px", border: "none", background: `linear-gradient(90deg, ${ROXO}, ${ROSA})`, color: "white", fontWeight: "bold", fontSize: "16px", cursor: "pointer" },
                resultado: { marginTop: "20px", padding: "15px", borderRadius: "12px", background: `${ROXO}15`, border: `1px solid ${ROSA}` },
                btnWhats: { 
                    width: "100%", padding: "16px", marginTop: "15px", borderRadius: "12px", border: "none", 
                    background: WHATSAPP_VERDE, color: "white", fontWeight: "bold", cursor: "pointer", fontSize: "16px",
                    display: "flex", alignItems: "center", justifyContent: "center", gap: "10px",
                    boxShadow: "0 4px 15px rgba(37, 211, 102, 0.2)"
                }
            };

            return (
                <div style={estilos.card}>
                    <img src="Logo1.png" alt="PrimaPay Logo" style={estilos.logo} />
                    <h2 style={{color: "white", fontSize: "20px", margin: "0 0 10px 0"}}>Simulador de Crédito</h2>
                    
                    <label style={estilos.label}>Valor do Crédito (R$)</label>
                    <input style={estilos.input} type="text" placeholder="0,00" value={valor} onChange={e => setValor(formatarMoeda(e.target.value))} />
                    
                    <label style={estilos.label}>Tipo de Crédito</label>
                    <div style={estilos.selecaoContainer}>
                        <div style={estilos.opcao(tipoGarantia === "com")} onClick={() => setTipoGarantia("com")}>COM GARANTIA</div>
                        <div style={estilos.opcao(tipoGarantia === "sem")} onClick={() => setTipoGarantia("sem")}>SEM GARANTIA</div>
                    </div>
                    
                    <label style={estilos.label}>Prazo (Meses)</label>
                    <input style={estilos.input} type="number" placeholder="Ex: 48" value={meses} onChange={e => setMeses(e.target.value)} />
                    
                    <button className="btn-interativo" style={estilos.btnCalcular} onClick={calcular}>CALCULAR PARCELAS</button>
                    
                    {prestacao && (
                        <div style={estilos.resultado}>
                            <div style={{color: ROSA, fontSize: "12px", marginBottom: "5px"}}>Parcela Estimada:</div>
                            <div style={{color: LARANJA, fontSize: "26px", fontWeight: "bold"}}>{prestacao}</div>
                        </div>
                    )}
                    
                    <button className="btn-interativo" style={estilos.btnWhats} onClick={abrirWhats}>
                        <i className="fab fa-whatsapp" style={{fontSize: "22px"}}></i>
                        Falar no WhatsApp
                    </button>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<CalculadoraPrimaPay />);
    </script>
</body>
</html>
